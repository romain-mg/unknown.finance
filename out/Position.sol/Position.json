{"abi":[{"type":"error","name":"CannotUpdateEmptyPosition","inputs":[]}],"bytecode":{"object":"0x6080806040523460175760399081601c823930815050f35b5f80fdfe5f80fdfea26469706673582212200a60596570fe0979d049306666dfb0aa6b5c997b3621e6b05cc13500ef750f1364736f6c634300081a0033","sourceMap":"456:4356:107:-:0;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x5f80fdfea26469706673582212200a60596570fe0979d049306666dfb0aa6b5c997b3621e6b05cc13500ef750f1364736f6c634300081a0033","sourceMap":"456:4356:107:-:0;;","linkReferences":{}},"methodIdentifiers":{},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.26+commit.8a97fa7a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"CannotUpdateEmptyPosition\",\"type\":\"error\"}],\"devdoc\":{\"details\":\"Positions store additional state for tracking fees owed to the position\",\"kind\":\"dev\",\"methods\":{},\"title\":\"Position\",\"version\":1},\"userdoc\":{\"errors\":{\"CannotUpdateEmptyPosition()\":[{\"notice\":\"Cannot update a position with no liquidity\"}]},\"kind\":\"user\",\"methods\":{},\"notice\":\"Positions represent an owner address' liquidity between a lower and upper tick boundary\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/v4-core/src/libraries/Position.sol\":\"Position\"},\"evmVersion\":\"cancun\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@ensdomains/=lib/v4-core/node_modules/@ensdomains/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@uniswap/universal-router/=lib/universal-router.git/\",\":@uniswap/v2-core/=lib/v2-core/\",\":@uniswap/v3-core/=lib/v3-core/\",\":@uniswap/v3-periphery/=lib/universal-router.git/lib/v3-periphery/\",\":@uniswap/v4-core/=lib/v4-core/\",\":@uniswap/v4-periphery/=lib/v4-periphery/\",\":ds-test/=lib/permit2/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":eth-gas-reporter/=node_modules/eth-gas-reporter/\",\":fhevm-contracts/=node_modules/fhevm-contracts/\",\":fhevm-core-contracts/=node_modules/fhevm-core-contracts/\",\":fhevm/=node_modules/fhevm/\",\":forge-gas-snapshot/=lib/permit2/lib/forge-gas-snapshot/src/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":hardhat-deploy/=node_modules/hardhat-deploy/\",\":hardhat/=node_modules/hardhat/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":permit2/=lib/permit2/\",\":solmate/=lib/permit2/lib/solmate/\",\":universal-router.git/=lib/universal-router.git/\",\":v2-core/=lib/v2-core/contracts/\",\":v3-core/=lib/v3-core/\",\":v3-periphery/=lib/universal-router.git/lib/v3-periphery/contracts/\",\":v4-core/=lib/v4-core/src/\",\":v4-periphery/=lib/v4-periphery/\"],\"viaIR\":true},\"sources\":{\"lib/v4-core/src/libraries/CustomRevert.sol\":{\"keccak256\":\"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd\",\"dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt\"]},\"lib/v4-core/src/libraries/FixedPoint128.sol\":{\"keccak256\":\"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb\",\"dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy\"]},\"lib/v4-core/src/libraries/FullMath.sol\":{\"keccak256\":\"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52\",\"dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC\"]},\"lib/v4-core/src/libraries/LiquidityMath.sol\":{\"keccak256\":\"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99\",\"dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD\"]},\"lib/v4-core/src/libraries/Position.sol\":{\"keccak256\":\"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9\",\"license\":\"BUSL-1.1\",\"urls\":[\"bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2\",\"dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.26+commit.8a97fa7a"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"CannotUpdateEmptyPosition"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{},"version":1}},"settings":{"remappings":["@ensdomains/=lib/v4-core/node_modules/@ensdomains/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@uniswap/universal-router/=lib/universal-router.git/","@uniswap/v2-core/=lib/v2-core/","@uniswap/v3-core/=lib/v3-core/","@uniswap/v3-periphery/=lib/universal-router.git/lib/v3-periphery/","@uniswap/v4-core/=lib/v4-core/","@uniswap/v4-periphery/=lib/v4-periphery/","ds-test/=lib/permit2/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","eth-gas-reporter/=node_modules/eth-gas-reporter/","fhevm-contracts/=node_modules/fhevm-contracts/","fhevm-core-contracts/=node_modules/fhevm-core-contracts/","fhevm/=node_modules/fhevm/","forge-gas-snapshot/=lib/permit2/lib/forge-gas-snapshot/src/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","hardhat-deploy/=node_modules/hardhat-deploy/","hardhat/=node_modules/hardhat/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","permit2/=lib/permit2/","solmate/=lib/permit2/lib/solmate/","universal-router.git/=lib/universal-router.git/","v2-core/=lib/v2-core/contracts/","v3-core/=lib/v3-core/","v3-periphery/=lib/universal-router.git/lib/v3-periphery/contracts/","v4-core/=lib/v4-core/src/","v4-periphery/=lib/v4-periphery/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/v4-core/src/libraries/Position.sol":"Position"},"evmVersion":"cancun","libraries":{},"viaIR":true},"sources":{"lib/v4-core/src/libraries/CustomRevert.sol":{"keccak256":"0x111ed3031b6990c80a93ae35dde6b6ac0b7e6af471388fdd7461e91edda9b7de","urls":["bzz-raw://c9ea883c98d6ae1829160d0977bb5195761cfd5bc81692d0a941f45717f594cd","dweb:/ipfs/QmZPwxzaeMNv536wzrAMrMswu7vMHuqPVpjcqL3YvCMoxt"],"license":"MIT"},"lib/v4-core/src/libraries/FixedPoint128.sol":{"keccak256":"0xad236e10853f4b4b20a35a9bb52b857c4fc79874846b7e444e06ead7f2630542","urls":["bzz-raw://0de1f9a06520b1a689660943faa14fc0b8344ab41fab9e6012ea34bff4b9b3eb","dweb:/ipfs/QmRNMPTyko7W6d6KxuTsnDBa9oZgDK4xiwRRq3H9ASTbwy"],"license":"MIT"},"lib/v4-core/src/libraries/FullMath.sol":{"keccak256":"0x4fc73a00817193fd3cac1cc03d8167d21af97d75f1815a070ee31a90c702b4c2","urls":["bzz-raw://c3b2d66d36b1ad56b1ab6e2eb8a816740877b40b461c93f125e88621c8378e52","dweb:/ipfs/QmPGvMZzKQvNiWKd8aRzzdW7oAizwrMgcMtnaworDkVHFC"],"license":"MIT"},"lib/v4-core/src/libraries/LiquidityMath.sol":{"keccak256":"0x000ef2eadcc1eb7b2c18a77655f94e76e0e860f605783484657ef65fd6eda353","urls":["bzz-raw://a766b620a7a22798b43c6c1f23b5c6cff0ebf588deb89842bad05208d448cd99","dweb:/ipfs/QmVKjaFJdzkqA3ey2Byum8iTCMssWVD8MmVC8rw62Tj5WD"],"license":"MIT"},"lib/v4-core/src/libraries/Position.sol":{"keccak256":"0xddab2a831f1befb6abf5567e77c4582169ca8156cf69eb4f22d8e87f7226a3f9","urls":["bzz-raw://c79fe61b50f3b70cff503abfa6f5643fcbefb9b794855bee1019b1e6d9c083b2","dweb:/ipfs/QmbKmYNQesaMz8bo1b7TMHQcAwaDd3eDPrE5pAdPPZTtk5"],"license":"BUSL-1.1"}},"version":1},"ast":{"absolutePath":"lib/v4-core/src/libraries/Position.sol","id":20035,"exportedSymbols":{"CustomRevert":[19628],"FixedPoint128":[19635],"FullMath":[19803],"LiquidityMath":[19819],"Position":[20034]},"nodeType":"SourceUnit","src":"37:4776:107","nodes":[{"id":19870,"nodeType":"PragmaDirective","src":"37:23:107","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":19872,"nodeType":"ImportDirective","src":"62:40:107","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FullMath.sol","file":"./FullMath.sol","nameLocation":"-1:-1:-1","scope":20035,"sourceUnit":19804,"symbolAliases":[{"foreign":{"id":19871,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19803,"src":"70:8:107","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":19874,"nodeType":"ImportDirective","src":"103:50:107","nodes":[],"absolutePath":"lib/v4-core/src/libraries/FixedPoint128.sol","file":"./FixedPoint128.sol","nameLocation":"-1:-1:-1","scope":20035,"sourceUnit":19636,"symbolAliases":[{"foreign":{"id":19873,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19635,"src":"111:13:107","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":19876,"nodeType":"ImportDirective","src":"154:50:107","nodes":[],"absolutePath":"lib/v4-core/src/libraries/LiquidityMath.sol","file":"./LiquidityMath.sol","nameLocation":"-1:-1:-1","scope":20035,"sourceUnit":19820,"symbolAliases":[{"foreign":{"id":19875,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19819,"src":"162:13:107","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":19878,"nodeType":"ImportDirective","src":"205:48:107","nodes":[],"absolutePath":"lib/v4-core/src/libraries/CustomRevert.sol","file":"./CustomRevert.sol","nameLocation":"-1:-1:-1","scope":20035,"sourceUnit":19629,"symbolAliases":[{"foreign":{"id":19877,"name":"CustomRevert","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19628,"src":"213:12:107","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":20034,"nodeType":"ContractDefinition","src":"456:4356:107","nodes":[{"id":19882,"nodeType":"UsingForDirective","src":"479:30:107","nodes":[],"global":false,"libraryName":{"id":19880,"name":"CustomRevert","nameLocations":["485:12:107"],"nodeType":"IdentifierPath","referencedDeclaration":19628,"src":"485:12:107"},"typeName":{"id":19881,"name":"bytes4","nodeType":"ElementaryTypeName","src":"502:6:107","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}}},{"id":19885,"nodeType":"ErrorDefinition","src":"574:34:107","nodes":[],"documentation":{"id":19883,"nodeType":"StructuredDocumentation","src":"515:54:107","text":"@notice Cannot update a position with no liquidity"},"errorSelector":"aefeb924","name":"CannotUpdateEmptyPosition","nameLocation":"580:25:107","parameters":{"id":19884,"nodeType":"ParameterList","parameters":[],"src":"605:2:107"}},{"id":19892,"nodeType":"StructDefinition","src":"658:281:107","nodes":[],"canonicalName":"Position.State","members":[{"constant":false,"id":19887,"mutability":"mutable","name":"liquidity","nameLocation":"747:9:107","nodeType":"VariableDeclaration","scope":19892,"src":"739:17:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":19886,"name":"uint128","nodeType":"ElementaryTypeName","src":"739:7:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":19889,"mutability":"mutable","name":"feeGrowthInside0LastX128","nameLocation":"866:24:107","nodeType":"VariableDeclaration","scope":19892,"src":"858:32:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19888,"name":"uint256","nodeType":"ElementaryTypeName","src":"858:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":19891,"mutability":"mutable","name":"feeGrowthInside1LastX128","nameLocation":"908:24:107","nodeType":"VariableDeclaration","scope":19892,"src":"900:32:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19890,"name":"uint256","nodeType":"ElementaryTypeName","src":"900:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"name":"State","nameLocation":"665:5:107","scope":20034,"visibility":"public"},{"id":19928,"nodeType":"FunctionDefinition","src":"1464:323:107","nodes":[],"body":{"id":19927,"nodeType":"Block","src":"1655:132:107","nodes":[],"statements":[{"assignments":[19913],"declarations":[{"constant":false,"id":19913,"mutability":"mutable","name":"positionKey","nameLocation":"1673:11:107","nodeType":"VariableDeclaration","scope":19927,"src":"1665:19:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":19912,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1665:7:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"id":19920,"initialValue":{"arguments":[{"id":19915,"name":"owner","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19900,"src":"1708:5:107","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},{"id":19916,"name":"tickLower","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19902,"src":"1715:9:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":19917,"name":"tickUpper","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19904,"src":"1726:9:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},{"id":19918,"name":"salt","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19906,"src":"1737:4:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_address","typeString":"address"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_int24","typeString":"int24"},{"typeIdentifier":"t_bytes32","typeString":"bytes32"}],"id":19914,"name":"calculatePositionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19944,"src":"1687:20:107","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_address_$_t_int24_$_t_int24_$_t_bytes32_$returns$_t_bytes32_$","typeString":"function (address,int24,int24,bytes32) pure returns (bytes32)"}},"id":19919,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1687:55:107","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"VariableDeclarationStatement","src":"1665:77:107"},{"expression":{"id":19925,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":19921,"name":"position","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19910,"src":"1752:8:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"baseExpression":{"id":19922,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19898,"src":"1763:4:107","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$19892_storage_$","typeString":"mapping(bytes32 => struct Position.State storage ref)"}},"id":19924,"indexExpression":{"id":19923,"name":"positionKey","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19913,"src":"1768:11:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"nodeType":"IndexAccess","src":"1763:17:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage","typeString":"struct Position.State storage ref"}},"src":"1752:28:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":19926,"nodeType":"ExpressionStatement","src":"1752:28:107"}]},"documentation":{"id":19893,"nodeType":"StructuredDocumentation","src":"945:514:107","text":"@notice Returns the State struct of a position, given an owner and position boundaries\n @param self The mapping containing all user positions\n @param owner The address of the position owner\n @param tickLower The lower tick boundary of the position\n @param tickUpper The upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range\n @return position The position info struct of the given owners' position"},"implemented":true,"kind":"function","modifiers":[],"name":"get","nameLocation":"1473:3:107","parameters":{"id":19907,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19898,"mutability":"mutable","name":"self","nameLocation":"1511:4:107","nodeType":"VariableDeclaration","scope":19928,"src":"1477:38:107","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$19892_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"typeName":{"id":19897,"keyName":"","keyNameLocation":"-1:-1:-1","keyType":{"id":19894,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1485:7:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"nodeType":"Mapping","src":"1477:25:107","typeDescriptions":{"typeIdentifier":"t_mapping$_t_bytes32_$_t_struct$_State_$19892_storage_$","typeString":"mapping(bytes32 => struct Position.State)"},"valueName":"","valueNameLocation":"-1:-1:-1","valueType":{"id":19896,"nodeType":"UserDefinedTypeName","pathNode":{"id":19895,"name":"State","nameLocations":["1496:5:107"],"nodeType":"IdentifierPath","referencedDeclaration":19892,"src":"1496:5:107"},"referencedDeclaration":19892,"src":"1496:5:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State"}}},"visibility":"internal"},{"constant":false,"id":19900,"mutability":"mutable","name":"owner","nameLocation":"1525:5:107","nodeType":"VariableDeclaration","scope":19928,"src":"1517:13:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":19899,"name":"address","nodeType":"ElementaryTypeName","src":"1517:7:107","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":19902,"mutability":"mutable","name":"tickLower","nameLocation":"1538:9:107","nodeType":"VariableDeclaration","scope":19928,"src":"1532:15:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":19901,"name":"int24","nodeType":"ElementaryTypeName","src":"1532:5:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":19904,"mutability":"mutable","name":"tickUpper","nameLocation":"1555:9:107","nodeType":"VariableDeclaration","scope":19928,"src":"1549:15:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":19903,"name":"int24","nodeType":"ElementaryTypeName","src":"1549:5:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":19906,"mutability":"mutable","name":"salt","nameLocation":"1574:4:107","nodeType":"VariableDeclaration","scope":19928,"src":"1566:12:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":19905,"name":"bytes32","nodeType":"ElementaryTypeName","src":"1566:7:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"1476:103:107"},"returnParameters":{"id":19911,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19910,"mutability":"mutable","name":"position","nameLocation":"1641:8:107","nodeType":"VariableDeclaration","scope":19928,"src":"1627:22:107","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":19909,"nodeType":"UserDefinedTypeName","pathNode":{"id":19908,"name":"State","nameLocations":["1627:5:107"],"nodeType":"IdentifierPath","referencedDeclaration":19892,"src":"1627:5:107"},"referencedDeclaration":19892,"src":"1627:5:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"}],"src":"1626:24:107"},"scope":20034,"stateMutability":"view","virtual":false,"visibility":"internal"},{"id":19944,"nodeType":"FunctionDefinition","src":"2184:878:107","nodes":[],"body":{"id":19943,"nodeType":"Block","src":"2349:713:107","nodes":[],"statements":[{"AST":{"nativeSrc":"2472:584:107","nodeType":"YulBlock","src":"2472:584:107","statements":[{"nativeSrc":"2486:22:107","nodeType":"YulVariableDeclaration","src":"2486:22:107","value":{"arguments":[{"kind":"number","nativeSrc":"2503:4:107","nodeType":"YulLiteral","src":"2503:4:107","type":"","value":"0x40"}],"functionName":{"name":"mload","nativeSrc":"2497:5:107","nodeType":"YulIdentifier","src":"2497:5:107"},"nativeSrc":"2497:11:107","nodeType":"YulFunctionCall","src":"2497:11:107"},"variables":[{"name":"fmp","nativeSrc":"2490:3:107","nodeType":"YulTypedName","src":"2490:3:107","type":""}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2532:3:107","nodeType":"YulIdentifier","src":"2532:3:107"},{"kind":"number","nativeSrc":"2537:4:107","nodeType":"YulLiteral","src":"2537:4:107","type":"","value":"0x26"}],"functionName":{"name":"add","nativeSrc":"2528:3:107","nodeType":"YulIdentifier","src":"2528:3:107"},"nativeSrc":"2528:14:107","nodeType":"YulFunctionCall","src":"2528:14:107"},{"name":"salt","nativeSrc":"2544:4:107","nodeType":"YulIdentifier","src":"2544:4:107"}],"functionName":{"name":"mstore","nativeSrc":"2521:6:107","nodeType":"YulIdentifier","src":"2521:6:107"},"nativeSrc":"2521:28:107","nodeType":"YulFunctionCall","src":"2521:28:107"},"nativeSrc":"2521:28:107","nodeType":"YulExpressionStatement","src":"2521:28:107"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2589:3:107","nodeType":"YulIdentifier","src":"2589:3:107"},{"kind":"number","nativeSrc":"2594:4:107","nodeType":"YulLiteral","src":"2594:4:107","type":"","value":"0x06"}],"functionName":{"name":"add","nativeSrc":"2585:3:107","nodeType":"YulIdentifier","src":"2585:3:107"},"nativeSrc":"2585:14:107","nodeType":"YulFunctionCall","src":"2585:14:107"},{"name":"tickUpper","nativeSrc":"2601:9:107","nodeType":"YulIdentifier","src":"2601:9:107"}],"functionName":{"name":"mstore","nativeSrc":"2578:6:107","nodeType":"YulIdentifier","src":"2578:6:107"},"nativeSrc":"2578:33:107","nodeType":"YulFunctionCall","src":"2578:33:107"},"nativeSrc":"2578:33:107","nodeType":"YulExpressionStatement","src":"2578:33:107"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2651:3:107","nodeType":"YulIdentifier","src":"2651:3:107"},{"kind":"number","nativeSrc":"2656:4:107","nodeType":"YulLiteral","src":"2656:4:107","type":"","value":"0x03"}],"functionName":{"name":"add","nativeSrc":"2647:3:107","nodeType":"YulIdentifier","src":"2647:3:107"},"nativeSrc":"2647:14:107","nodeType":"YulFunctionCall","src":"2647:14:107"},{"name":"tickLower","nativeSrc":"2663:9:107","nodeType":"YulIdentifier","src":"2663:9:107"}],"functionName":{"name":"mstore","nativeSrc":"2640:6:107","nodeType":"YulIdentifier","src":"2640:6:107"},"nativeSrc":"2640:33:107","nodeType":"YulFunctionCall","src":"2640:33:107"},"nativeSrc":"2640:33:107","nodeType":"YulExpressionStatement","src":"2640:33:107"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"2709:3:107","nodeType":"YulIdentifier","src":"2709:3:107"},{"name":"owner","nativeSrc":"2714:5:107","nodeType":"YulIdentifier","src":"2714:5:107"}],"functionName":{"name":"mstore","nativeSrc":"2702:6:107","nodeType":"YulIdentifier","src":"2702:6:107"},"nativeSrc":"2702:18:107","nodeType":"YulFunctionCall","src":"2702:18:107"},"nativeSrc":"2702:18:107","nodeType":"YulExpressionStatement","src":"2702:18:107"},{"nativeSrc":"2749:46:107","nodeType":"YulAssignment","src":"2749:46:107","value":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2778:3:107","nodeType":"YulIdentifier","src":"2778:3:107"},{"kind":"number","nativeSrc":"2783:4:107","nodeType":"YulLiteral","src":"2783:4:107","type":"","value":"0x0c"}],"functionName":{"name":"add","nativeSrc":"2774:3:107","nodeType":"YulIdentifier","src":"2774:3:107"},"nativeSrc":"2774:14:107","nodeType":"YulFunctionCall","src":"2774:14:107"},{"kind":"number","nativeSrc":"2790:4:107","nodeType":"YulLiteral","src":"2790:4:107","type":"","value":"0x3a"}],"functionName":{"name":"keccak256","nativeSrc":"2764:9:107","nodeType":"YulIdentifier","src":"2764:9:107"},"nativeSrc":"2764:31:107","nodeType":"YulFunctionCall","src":"2764:31:107"},"variableNames":[{"name":"positionKey","nativeSrc":"2749:11:107","nodeType":"YulIdentifier","src":"2749:11:107"}]},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2883:3:107","nodeType":"YulIdentifier","src":"2883:3:107"},{"kind":"number","nativeSrc":"2888:4:107","nodeType":"YulLiteral","src":"2888:4:107","type":"","value":"0x40"}],"functionName":{"name":"add","nativeSrc":"2879:3:107","nodeType":"YulIdentifier","src":"2879:3:107"},"nativeSrc":"2879:14:107","nodeType":"YulFunctionCall","src":"2879:14:107"},{"kind":"number","nativeSrc":"2895:1:107","nodeType":"YulLiteral","src":"2895:1:107","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2872:6:107","nodeType":"YulIdentifier","src":"2872:6:107"},"nativeSrc":"2872:25:107","nodeType":"YulFunctionCall","src":"2872:25:107"},"nativeSrc":"2872:25:107","nodeType":"YulExpressionStatement","src":"2872:25:107"},{"expression":{"arguments":[{"arguments":[{"name":"fmp","nativeSrc":"2943:3:107","nodeType":"YulIdentifier","src":"2943:3:107"},{"kind":"number","nativeSrc":"2948:4:107","nodeType":"YulLiteral","src":"2948:4:107","type":"","value":"0x20"}],"functionName":{"name":"add","nativeSrc":"2939:3:107","nodeType":"YulIdentifier","src":"2939:3:107"},"nativeSrc":"2939:14:107","nodeType":"YulFunctionCall","src":"2939:14:107"},{"kind":"number","nativeSrc":"2955:1:107","nodeType":"YulLiteral","src":"2955:1:107","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"2932:6:107","nodeType":"YulIdentifier","src":"2932:6:107"},"nativeSrc":"2932:25:107","nodeType":"YulFunctionCall","src":"2932:25:107"},"nativeSrc":"2932:25:107","nodeType":"YulExpressionStatement","src":"2932:25:107"},{"expression":{"arguments":[{"name":"fmp","nativeSrc":"3021:3:107","nodeType":"YulIdentifier","src":"3021:3:107"},{"kind":"number","nativeSrc":"3026:1:107","nodeType":"YulLiteral","src":"3026:1:107","type":"","value":"0"}],"functionName":{"name":"mstore","nativeSrc":"3014:6:107","nodeType":"YulIdentifier","src":"3014:6:107"},"nativeSrc":"3014:14:107","nodeType":"YulFunctionCall","src":"3014:14:107"},"nativeSrc":"3014:14:107","nodeType":"YulExpressionStatement","src":"3014:14:107"}]},"evmVersion":"cancun","externalReferences":[{"declaration":19931,"isOffset":false,"isSlot":false,"src":"2714:5:107","valueSize":1},{"declaration":19940,"isOffset":false,"isSlot":false,"src":"2749:11:107","valueSize":1},{"declaration":19937,"isOffset":false,"isSlot":false,"src":"2544:4:107","valueSize":1},{"declaration":19933,"isOffset":false,"isSlot":false,"src":"2663:9:107","valueSize":1},{"declaration":19935,"isOffset":false,"isSlot":false,"src":"2601:9:107","valueSize":1}],"flags":["memory-safe"],"id":19942,"nodeType":"InlineAssembly","src":"2447:609:107"}]},"documentation":{"id":19929,"nodeType":"StructuredDocumentation","src":"1793:386:107","text":"@notice A helper function to calculate the position key\n @param owner The address of the position owner\n @param tickLower the lower tick boundary of the position\n @param tickUpper the upper tick boundary of the position\n @param salt A unique value to differentiate between multiple positions in the same range, by the same owner. Passed in by the caller."},"implemented":true,"kind":"function","modifiers":[],"name":"calculatePositionKey","nameLocation":"2193:20:107","parameters":{"id":19938,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19931,"mutability":"mutable","name":"owner","nameLocation":"2222:5:107","nodeType":"VariableDeclaration","scope":19944,"src":"2214:13:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":19930,"name":"address","nodeType":"ElementaryTypeName","src":"2214:7:107","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":19933,"mutability":"mutable","name":"tickLower","nameLocation":"2235:9:107","nodeType":"VariableDeclaration","scope":19944,"src":"2229:15:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":19932,"name":"int24","nodeType":"ElementaryTypeName","src":"2229:5:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":19935,"mutability":"mutable","name":"tickUpper","nameLocation":"2252:9:107","nodeType":"VariableDeclaration","scope":19944,"src":"2246:15:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"},"typeName":{"id":19934,"name":"int24","nodeType":"ElementaryTypeName","src":"2246:5:107","typeDescriptions":{"typeIdentifier":"t_int24","typeString":"int24"}},"visibility":"internal"},{"constant":false,"id":19937,"mutability":"mutable","name":"salt","nameLocation":"2271:4:107","nodeType":"VariableDeclaration","scope":19944,"src":"2263:12:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":19936,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2263:7:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2213:63:107"},"returnParameters":{"id":19941,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19940,"mutability":"mutable","name":"positionKey","nameLocation":"2332:11:107","nodeType":"VariableDeclaration","scope":19944,"src":"2324:19:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":19939,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2324:7:107","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2323:21:107"},"scope":20034,"stateMutability":"pure","virtual":false,"visibility":"internal"},{"id":20033,"nodeType":"FunctionDefinition","src":"3702:1108:107","nodes":[],"body":{"id":20032,"nodeType":"Block","src":"3915:895:107","nodes":[],"statements":[{"assignments":[19962],"declarations":[{"constant":false,"id":19962,"mutability":"mutable","name":"liquidity","nameLocation":"3933:9:107","nodeType":"VariableDeclaration","scope":20032,"src":"3925:17:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":19961,"name":"uint128","nodeType":"ElementaryTypeName","src":"3925:7:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"id":19965,"initialValue":{"expression":{"id":19963,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"3945:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":19964,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"3950:9:107","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":19887,"src":"3945:14:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"VariableDeclarationStatement","src":"3925:34:107"},{"condition":{"commonType":{"typeIdentifier":"t_int128","typeString":"int128"},"id":19968,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":19966,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19950,"src":"3974:14:107","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":19967,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"3992:1:107","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"3974:19:107","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"falseBody":{"id":19991,"nodeType":"Block","src":"4149:91:107","statements":[{"expression":{"id":19989,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":19981,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"4163:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":19983,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4168:9:107","memberName":"liquidity","nodeType":"MemberAccess","referencedDeclaration":19887,"src":"4163:14:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"id":19986,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19962,"src":"4203:9:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"id":19987,"name":"liquidityDelta","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19950,"src":"4214:14:107","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_int128","typeString":"int128"}],"expression":{"id":19984,"name":"LiquidityMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19819,"src":"4180:13:107","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_LiquidityMath_$19819_$","typeString":"type(library LiquidityMath)"}},"id":19985,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4194:8:107","memberName":"addDelta","nodeType":"MemberAccess","referencedDeclaration":19818,"src":"4180:22:107","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint128_$_t_int128_$returns$_t_uint128_$","typeString":"function (uint128,int128) pure returns (uint128)"}},"id":19988,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4180:49:107","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"src":"4163:66:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":19990,"nodeType":"ExpressionStatement","src":"4163:66:107"}]},"id":19992,"nodeType":"IfStatement","src":"3970:270:107","trueBody":{"id":19980,"nodeType":"Block","src":"3995:148:107","statements":[{"condition":{"commonType":{"typeIdentifier":"t_uint128","typeString":"uint128"},"id":19971,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":19969,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19962,"src":"4069:9:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"hexValue":"30","id":19970,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"4082:1:107","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"},"src":"4069:14:107","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":19979,"nodeType":"IfStatement","src":"4065:67:107","trueBody":{"expression":{"arguments":[],"expression":{"argumentTypes":[],"expression":{"expression":{"id":19972,"name":"CannotUpdateEmptyPosition","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19885,"src":"4085:25:107","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$_t_error_$","typeString":"function () pure returns (error)"}},"id":19975,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4111:8:107","memberName":"selector","nodeType":"MemberAccess","src":"4085:34:107","typeDescriptions":{"typeIdentifier":"t_bytes4","typeString":"bytes4"}},"id":19976,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4120:10:107","memberName":"revertWith","nodeType":"MemberAccess","referencedDeclaration":19544,"src":"4085:45:107","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_bytes4_$returns$__$attached_to$_t_bytes4_$","typeString":"function (bytes4) pure"}},"id":19977,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4085:47:107","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":19978,"nodeType":"ExpressionStatement","src":"4085:47:107"}}]}},{"id":20019,"nodeType":"UncheckedBlock","src":"4343:305:107","statements":[{"expression":{"id":20004,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":19993,"name":"feesOwed0","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19957,"src":"4367:9:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":19999,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":19996,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19952,"src":"4411:20:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":19997,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"4434:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":19998,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4439:24:107","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":19889,"src":"4434:29:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4411:52:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":20000,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19962,"src":"4465:9:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":20001,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19635,"src":"4476:13:107","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$19635_$","typeString":"type(library FixedPoint128)"}},"id":20002,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4490:4:107","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":19634,"src":"4476:18:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":19994,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19803,"src":"4395:8:107","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$19803_$","typeString":"type(library FullMath)"}},"id":19995,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4404:6:107","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":19764,"src":"4395:15:107","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":20003,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4395:100:107","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4367:128:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":20005,"nodeType":"ExpressionStatement","src":"4367:128:107"},{"expression":{"id":20017,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"id":20006,"name":"feesOwed1","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19959,"src":"4509:9:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"arguments":[{"commonType":{"typeIdentifier":"t_uint256","typeString":"uint256"},"id":20012,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":20009,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19954,"src":"4553:20:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"BinaryOperation","operator":"-","rightExpression":{"expression":{"id":20010,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"4576:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":20011,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":false,"memberLocation":"4581:24:107","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":19891,"src":"4576:29:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4553:52:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},{"id":20013,"name":"liquidity","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19962,"src":"4607:9:107","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},{"expression":{"id":20014,"name":"FixedPoint128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19635,"src":"4618:13:107","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FixedPoint128_$19635_$","typeString":"type(library FixedPoint128)"}},"id":20015,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"memberLocation":"4632:4:107","memberName":"Q128","nodeType":"MemberAccess","referencedDeclaration":19634,"src":"4618:18:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}}],"expression":{"argumentTypes":[{"typeIdentifier":"t_uint256","typeString":"uint256"},{"typeIdentifier":"t_uint128","typeString":"uint128"},{"typeIdentifier":"t_uint256","typeString":"uint256"}],"expression":{"id":20007,"name":"FullMath","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19803,"src":"4537:8:107","typeDescriptions":{"typeIdentifier":"t_type$_t_contract$_FullMath_$19803_$","typeString":"type(library FullMath)"}},"id":20008,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"memberLocation":"4546:6:107","memberName":"mulDiv","nodeType":"MemberAccess","referencedDeclaration":19764,"src":"4537:15:107","typeDescriptions":{"typeIdentifier":"t_function_internal_pure$_t_uint256_$_t_uint256_$_t_uint256_$returns$_t_uint256_$","typeString":"function (uint256,uint256,uint256) pure returns (uint256)"}},"id":20016,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"4537:100:107","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4509:128:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":20018,"nodeType":"ExpressionStatement","src":"4509:128:107"}]},{"expression":{"id":20024,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":20020,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"4689:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":20022,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4694:24:107","memberName":"feeGrowthInside0LastX128","nodeType":"MemberAccess","referencedDeclaration":19889,"src":"4689:29:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":20023,"name":"feeGrowthInside0X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19952,"src":"4721:20:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4689:52:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":20025,"nodeType":"ExpressionStatement","src":"4689:52:107"},{"expression":{"id":20030,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftHandSide":{"expression":{"id":20026,"name":"self","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19948,"src":"4751:4:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State storage pointer"}},"id":20028,"isConstant":false,"isLValue":true,"isPure":false,"lValueRequested":true,"memberLocation":"4756:24:107","memberName":"feeGrowthInside1LastX128","nodeType":"MemberAccess","referencedDeclaration":19891,"src":"4751:29:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"nodeType":"Assignment","operator":"=","rightHandSide":{"id":20029,"name":"feeGrowthInside1X128","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":19954,"src":"4783:20:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"src":"4751:52:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"id":20031,"nodeType":"ExpressionStatement","src":"4751:52:107"}]},"documentation":{"id":19945,"nodeType":"StructuredDocumentation","src":"3068:629:107","text":"@notice Credits accumulated fees to a user's position\n @param self The individual position to update\n @param liquidityDelta The change in pool liquidity as a result of the position update\n @param feeGrowthInside0X128 The all-time fee growth in currency0, per unit of liquidity, inside the position's tick boundaries\n @param feeGrowthInside1X128 The all-time fee growth in currency1, per unit of liquidity, inside the position's tick boundaries\n @return feesOwed0 The amount of currency0 owed to the position owner\n @return feesOwed1 The amount of currency1 owed to the position owner"},"implemented":true,"kind":"function","modifiers":[],"name":"update","nameLocation":"3711:6:107","parameters":{"id":19955,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19948,"mutability":"mutable","name":"self","nameLocation":"3741:4:107","nodeType":"VariableDeclaration","scope":20033,"src":"3727:18:107","stateVariable":false,"storageLocation":"storage","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State"},"typeName":{"id":19947,"nodeType":"UserDefinedTypeName","pathNode":{"id":19946,"name":"State","nameLocations":["3727:5:107"],"nodeType":"IdentifierPath","referencedDeclaration":19892,"src":"3727:5:107"},"referencedDeclaration":19892,"src":"3727:5:107","typeDescriptions":{"typeIdentifier":"t_struct$_State_$19892_storage_ptr","typeString":"struct Position.State"}},"visibility":"internal"},{"constant":false,"id":19950,"mutability":"mutable","name":"liquidityDelta","nameLocation":"3762:14:107","nodeType":"VariableDeclaration","scope":20033,"src":"3755:21:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"},"typeName":{"id":19949,"name":"int128","nodeType":"ElementaryTypeName","src":"3755:6:107","typeDescriptions":{"typeIdentifier":"t_int128","typeString":"int128"}},"visibility":"internal"},{"constant":false,"id":19952,"mutability":"mutable","name":"feeGrowthInside0X128","nameLocation":"3794:20:107","nodeType":"VariableDeclaration","scope":20033,"src":"3786:28:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19951,"name":"uint256","nodeType":"ElementaryTypeName","src":"3786:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":19954,"mutability":"mutable","name":"feeGrowthInside1X128","nameLocation":"3832:20:107","nodeType":"VariableDeclaration","scope":20033,"src":"3824:28:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19953,"name":"uint256","nodeType":"ElementaryTypeName","src":"3824:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3717:141:107"},"returnParameters":{"id":19960,"nodeType":"ParameterList","parameters":[{"constant":false,"id":19957,"mutability":"mutable","name":"feesOwed0","nameLocation":"3885:9:107","nodeType":"VariableDeclaration","scope":20033,"src":"3877:17:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19956,"name":"uint256","nodeType":"ElementaryTypeName","src":"3877:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":19959,"mutability":"mutable","name":"feesOwed1","nameLocation":"3904:9:107","nodeType":"VariableDeclaration","scope":20033,"src":"3896:17:107","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":19958,"name":"uint256","nodeType":"ElementaryTypeName","src":"3896:7:107","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"3876:38:107"},"scope":20034,"stateMutability":"nonpayable","virtual":false,"visibility":"internal"}],"abstract":false,"baseContracts":[],"canonicalName":"Position","contractDependencies":[],"contractKind":"library","documentation":{"id":19879,"nodeType":"StructuredDocumentation","src":"255:201:107","text":"@title Position\n @notice Positions represent an owner address' liquidity between a lower and upper tick boundary\n @dev Positions store additional state for tracking fees owed to the position"},"fullyImplemented":true,"linearizedBaseContracts":[20034],"name":"Position","nameLocation":"464:8:107","scope":20035,"usedErrors":[19885],"usedEvents":[]}],"license":"BUSL-1.1"},"id":107}